**## Warning!**

PulseKey utilizes the [SendInput Win32 API](https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-sendinput) for simulating keyboard and mouse actions. This method of emulation is commonly found in software designed for cheating in video games, such as aimbots for Counter Strike. Consequently, it may be detected by anti-cheat technologies. It is advisable to not use PulseKey with any software that employs anti-cheat measures to avoid the risk of being banned.

# PulseKey

![PulseKey](https://github.com/Donitzo/pulsekey/blob/main/images/pulsekey.png)

PulseKey is a tool designed to map game controller inputs to keyboard and mouse commands, featuring Analog to Pulse-Width Modulation conversion. The initial motivation for creating PulseKey was to enable the use of a game controller for playing [System Shock 2](https://store.steampowered.com/app/238210/System_Shock_2/), which led to the tool's evolution into a more general program.

A key focus during PulseKey's development was exploring the feasibility of replicating analog input behaviors on keyboards through Pulse-Width Modulation. The findings indicate that while it is possible under certain conditions.

[![Playing System Shock 2](https://img.youtube.com/vi/Eh83MLCsoFQ/0.jpg)](https://www.youtube.com/watch?v=Eh83MLCsoFQ)

## Pulse-width modulation

Pulse-width modulation (PWM) is a technique for encoding a signal into a square wave, essentially transforming it into a binary form. This method allows for the conversion of an analog signal, like the one generated by the movement of a game controller stick, into distinct pulses.

At rest, with the controller stick in its neutral position, the signal has a 0% duty cycle, meaning it remains low and inactive. As the stick moves away from its center towards any direction, the duty cycle adjusts accordinglyâ€”reaching 50% when the stick is halfway to its maximum extension, resulting in the signal being high for half of the time. This translates to the corresponding keys being activated on every alternate system tick. For a duty cycle set at 10%, the keys would be pressed once every ten ticks.

The duty cycle thus serves as a digital representation of the analog input's intensity, where the total duration of the "high" state directly correlates to the extent the key is engaged.

![Duty Cycle](https://github.com/Donitzo/pulsekey/blob/main/images/duty_cycle.png)

## Third-party libraries

- [**SDL2**](https://www.libsdl.org): PulseKey leverages SDL2 for its extensive game controller support and OpenGL rendering capabilities. SDL2 is distributed under the [zlib license](https://www.libsdl.org/license.php).
- [**ImGui**](https://github.com/ocornut/imgui): Utilized for its extremely lightweight graphical user interface, ImGui is compatible with various rendering backends, including SDL2. Licensed under the [MIT license](https://github.com/ocornut/imgui?tab=MIT-1-ov-file#readme).
- [**yaml-cpp**](https://github.com/jbeder/yaml-cpp): This library is employed for reading game configurations from a YAML file. yaml-cpp is also under the (MIT license)[https://github.com/jbeder/yaml-cpp?tab=MIT-1-ov-file#readme]

## Game configurations

Game settings are specified within a [games.yaml](./config/games.yaml) file. Contributions to the game configurations are welcome; if you devise a well-functioning setup for a game, please consider submitting it via an issue on GitHub for potential inclusion in the default configuration list.

## Building the project

PulseKey's builds are automated for Windows through [GitHub Actions](https://github.com/Donitzo/pulsekey/actions), utilizing the vcpkg package manager and CMake for seamless building. To access the latest version, navigate to the [Actions tab](https://github.com/Donitzo/pulsekey/actions) on GitHub, select the most recent build, and download the build artifacts from there. The build process is tailored for MinGW with G++, and due to the reliance on Windows-specific APIs, porting the project to Linux or macOS would require significant modifications.

## Feedback & Bug Reports

If you find any bugs or have feedback, please [open an issue](https://github.com/Donitzo/pulsekey/issues) in the GitHub repository.
